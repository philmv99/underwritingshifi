{"ast":null,"code":"import React,{useState,useRef}from'react';import styled from'styled-components';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const UploadSection=styled.div`\n  flex: 1;\n  min-width: 300px;\n  border: 1px solid #ddd;\n  border-radius: 8px;\n  padding: 20px;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n`;const SectionTitle=styled.h2`\n  color: #2c3e50;\n  margin-top: 0;\n`;const FileTypeTitle=styled.h3`\n  color: #2c3e50;\n`;const FileDrop=styled.div`\n  border: 2px dashed #ccc;\n  border-radius: 8px;\n  padding: 40px 20px;\n  text-align: center;\n  cursor: pointer;\n  transition: background 0.3s;\n  margin-bottom: 15px;\n  \n  &:hover, &.highlight {\n    border-color: #3498db;\n    background: #ecf0f1;\n  }\n`;const FileStatus=styled.div`\n  margin-top: 10px;\n  font-style: italic;\n  color: #7f8c8d;\n  \n  &.uploaded {\n    color: #27ae60;\n    font-weight: bold;\n  }\n`;const CalculateButton=styled.button`\n  background: #3498db;\n  color: #fff;\n  border: none;\n  padding: 10px 15px;\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 16px;\n  transition: background 0.3s;\n  width: 100%;\n  margin-top: 20px;\n  \n  &:hover {\n    background: #2980b9;\n  }\n  \n  &:disabled {\n    background: #95a5a6;\n    cursor: not-allowed;\n  }\n`;const FileUpload=_ref=>{let{onCalculate,loading}=_ref;const[prefiFile,setPrefiFile]=useState(null);const[plaidFile,setPlaidFile]=useState(null);const[prefiDragActive,setPrefiDragActive]=useState(false);const[plaidDragActive,setPlaidDragActive]=useState(false);const prefiInputRef=useRef(null);const plaidInputRef=useRef(null);const handlePrefiClick=()=>{prefiInputRef.current.click();};const handlePlaidClick=()=>{plaidInputRef.current.click();};const handlePrefiChange=e=>{if(e.target.files&&e.target.files[0]){setPrefiFile(e.target.files[0]);}};const handlePlaidChange=e=>{if(e.target.files&&e.target.files[0]){setPlaidFile(e.target.files[0]);}};const handleDragOver=(e,setDragActive)=>{e.preventDefault();e.stopPropagation();setDragActive(true);};const handleDragLeave=(e,setDragActive)=>{e.preventDefault();e.stopPropagation();setDragActive(false);};const handlePrefiDrop=e=>{e.preventDefault();e.stopPropagation();setPrefiDragActive(false);if(e.dataTransfer.files&&e.dataTransfer.files[0]){setPrefiFile(e.dataTransfer.files[0]);}};const handlePlaidDrop=e=>{e.preventDefault();e.stopPropagation();setPlaidDragActive(false);if(e.dataTransfer.files&&e.dataTransfer.files[0]){setPlaidFile(e.dataTransfer.files[0]);}};const handleCalculate=()=>{if(prefiFile&&plaidFile){onCalculate(prefiFile,plaidFile);}};return/*#__PURE__*/_jsxs(UploadSection,{children:[/*#__PURE__*/_jsx(SectionTitle,{children:\"Upload Files\"}),/*#__PURE__*/_jsx(FileTypeTitle,{children:\"Prefi JSON\"}),/*#__PURE__*/_jsxs(FileDrop,{className:prefiDragActive?'highlight':'',onClick:handlePrefiClick,onDragOver:e=>handleDragOver(e,setPrefiDragActive),onDragLeave:e=>handleDragLeave(e,setPrefiDragActive),onDrop:handlePrefiDrop,children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Drag & drop your \",/*#__PURE__*/_jsx(\"strong\",{children:\"prefi.json\"}),/*#__PURE__*/_jsx(\"br\",{}),\"or click to select\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",ref:prefiInputRef,onChange:handlePrefiChange,accept:\".json\",style:{display:'none'}})]}),/*#__PURE__*/_jsx(FileStatus,{className:prefiFile?'uploaded':'',children:prefiFile?`File uploaded: ${prefiFile.name}`:'No file uploaded'}),/*#__PURE__*/_jsx(FileTypeTitle,{children:\"Plaid Assets JSON\"}),/*#__PURE__*/_jsxs(FileDrop,{className:plaidDragActive?'highlight':'',onClick:handlePlaidClick,onDragOver:e=>handleDragOver(e,setPlaidDragActive),onDragLeave:e=>handleDragLeave(e,setPlaidDragActive),onDrop:handlePlaidDrop,children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Drag & drop your \",/*#__PURE__*/_jsx(\"strong\",{children:\"Plaid assets JSON\"}),/*#__PURE__*/_jsx(\"br\",{}),\"or click to select\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",ref:plaidInputRef,onChange:handlePlaidChange,accept:\".json\",style:{display:'none'}})]}),/*#__PURE__*/_jsx(FileStatus,{className:plaidFile?'uploaded':'',children:plaidFile?`File uploaded: ${plaidFile.name}`:'No file uploaded'}),/*#__PURE__*/_jsx(CalculateButton,{onClick:handleCalculate,disabled:!prefiFile||!plaidFile||loading,children:loading?'Calculating...':'Calculate Score'})]});};export default FileUpload;","map":{"version":3,"names":["React","useState","useRef","styled","jsx","_jsx","jsxs","_jsxs","UploadSection","div","SectionTitle","h2","FileTypeTitle","h3","FileDrop","FileStatus","CalculateButton","button","FileUpload","_ref","onCalculate","loading","prefiFile","setPrefiFile","plaidFile","setPlaidFile","prefiDragActive","setPrefiDragActive","plaidDragActive","setPlaidDragActive","prefiInputRef","plaidInputRef","handlePrefiClick","current","click","handlePlaidClick","handlePrefiChange","e","target","files","handlePlaidChange","handleDragOver","setDragActive","preventDefault","stopPropagation","handleDragLeave","handlePrefiDrop","dataTransfer","handlePlaidDrop","handleCalculate","children","className","onClick","onDragOver","onDragLeave","onDrop","type","ref","onChange","accept","style","display","name","disabled"],"sources":["/home/ubuntu/underwriting-score-calculator/client/src/components/FileUpload.js"],"sourcesContent":["import React, { useState, useRef } from 'react';\nimport styled from 'styled-components';\n\nconst UploadSection = styled.div`\n  flex: 1;\n  min-width: 300px;\n  border: 1px solid #ddd;\n  border-radius: 8px;\n  padding: 20px;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n`;\n\nconst SectionTitle = styled.h2`\n  color: #2c3e50;\n  margin-top: 0;\n`;\n\nconst FileTypeTitle = styled.h3`\n  color: #2c3e50;\n`;\n\nconst FileDrop = styled.div`\n  border: 2px dashed #ccc;\n  border-radius: 8px;\n  padding: 40px 20px;\n  text-align: center;\n  cursor: pointer;\n  transition: background 0.3s;\n  margin-bottom: 15px;\n  \n  &:hover, &.highlight {\n    border-color: #3498db;\n    background: #ecf0f1;\n  }\n`;\n\nconst FileStatus = styled.div`\n  margin-top: 10px;\n  font-style: italic;\n  color: #7f8c8d;\n  \n  &.uploaded {\n    color: #27ae60;\n    font-weight: bold;\n  }\n`;\n\nconst CalculateButton = styled.button`\n  background: #3498db;\n  color: #fff;\n  border: none;\n  padding: 10px 15px;\n  border-radius: 4px;\n  cursor: pointer;\n  font-size: 16px;\n  transition: background 0.3s;\n  width: 100%;\n  margin-top: 20px;\n  \n  &:hover {\n    background: #2980b9;\n  }\n  \n  &:disabled {\n    background: #95a5a6;\n    cursor: not-allowed;\n  }\n`;\n\nconst FileUpload = ({ onCalculate, loading }) => {\n  const [prefiFile, setPrefiFile] = useState(null);\n  const [plaidFile, setPlaidFile] = useState(null);\n  const [prefiDragActive, setPrefiDragActive] = useState(false);\n  const [plaidDragActive, setPlaidDragActive] = useState(false);\n  \n  const prefiInputRef = useRef(null);\n  const plaidInputRef = useRef(null);\n  \n  const handlePrefiClick = () => {\n    prefiInputRef.current.click();\n  };\n  \n  const handlePlaidClick = () => {\n    plaidInputRef.current.click();\n  };\n  \n  const handlePrefiChange = (e) => {\n    if (e.target.files && e.target.files[0]) {\n      setPrefiFile(e.target.files[0]);\n    }\n  };\n  \n  const handlePlaidChange = (e) => {\n    if (e.target.files && e.target.files[0]) {\n      setPlaidFile(e.target.files[0]);\n    }\n  };\n  \n  const handleDragOver = (e, setDragActive) => {\n    e.preventDefault();\n    e.stopPropagation();\n    setDragActive(true);\n  };\n  \n  const handleDragLeave = (e, setDragActive) => {\n    e.preventDefault();\n    e.stopPropagation();\n    setDragActive(false);\n  };\n  \n  const handlePrefiDrop = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    setPrefiDragActive(false);\n    \n    if (e.dataTransfer.files && e.dataTransfer.files[0]) {\n      setPrefiFile(e.dataTransfer.files[0]);\n    }\n  };\n  \n  const handlePlaidDrop = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    setPlaidDragActive(false);\n    \n    if (e.dataTransfer.files && e.dataTransfer.files[0]) {\n      setPlaidFile(e.dataTransfer.files[0]);\n    }\n  };\n  \n  const handleCalculate = () => {\n    if (prefiFile && plaidFile) {\n      onCalculate(prefiFile, plaidFile);\n    }\n  };\n  \n  return (\n    <UploadSection>\n      <SectionTitle>Upload Files</SectionTitle>\n      \n      <FileTypeTitle>Prefi JSON</FileTypeTitle>\n      <FileDrop \n        className={prefiDragActive ? 'highlight' : ''}\n        onClick={handlePrefiClick}\n        onDragOver={(e) => handleDragOver(e, setPrefiDragActive)}\n        onDragLeave={(e) => handleDragLeave(e, setPrefiDragActive)}\n        onDrop={handlePrefiDrop}\n      >\n        <p>\n          Drag &amp; drop your <strong>prefi.json</strong><br />\n          or click to select\n        </p>\n        <input \n          type=\"file\" \n          ref={prefiInputRef}\n          onChange={handlePrefiChange}\n          accept=\".json\"\n          style={{ display: 'none' }}\n        />\n      </FileDrop>\n      <FileStatus className={prefiFile ? 'uploaded' : ''}>\n        {prefiFile ? `File uploaded: ${prefiFile.name}` : 'No file uploaded'}\n      </FileStatus>\n      \n      <FileTypeTitle>Plaid Assets JSON</FileTypeTitle>\n      <FileDrop \n        className={plaidDragActive ? 'highlight' : ''}\n        onClick={handlePlaidClick}\n        onDragOver={(e) => handleDragOver(e, setPlaidDragActive)}\n        onDragLeave={(e) => handleDragLeave(e, setPlaidDragActive)}\n        onDrop={handlePlaidDrop}\n      >\n        <p>\n          Drag &amp; drop your <strong>Plaid assets JSON</strong><br />\n          or click to select\n        </p>\n        <input \n          type=\"file\" \n          ref={plaidInputRef}\n          onChange={handlePlaidChange}\n          accept=\".json\"\n          style={{ display: 'none' }}\n        />\n      </FileDrop>\n      <FileStatus className={plaidFile ? 'uploaded' : ''}>\n        {plaidFile ? `File uploaded: ${plaidFile.name}` : 'No file uploaded'}\n      </FileStatus>\n      \n      <CalculateButton \n        onClick={handleCalculate} \n        disabled={!prefiFile || !plaidFile || loading}\n      >\n        {loading ? 'Calculating...' : 'Calculate Score'}\n      </CalculateButton>\n    </UploadSection>\n  );\n};\n\nexport default FileUpload;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,MAAM,KAAQ,OAAO,CAC/C,MAAO,CAAAC,MAAM,KAAM,mBAAmB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEvC,KAAM,CAAAC,aAAa,CAAGL,MAAM,CAACM,GAAG;AAChC;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAC,YAAY,CAAGP,MAAM,CAACQ,EAAE;AAC9B;AACA;AACA,CAAC,CAED,KAAM,CAAAC,aAAa,CAAGT,MAAM,CAACU,EAAE;AAC/B;AACA,CAAC,CAED,KAAM,CAAAC,QAAQ,CAAGX,MAAM,CAACM,GAAG;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAM,UAAU,CAAGZ,MAAM,CAACM,GAAG;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAO,eAAe,CAAGb,MAAM,CAACc,MAAM;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAC,UAAU,CAAGC,IAAA,EAA8B,IAA7B,CAAEC,WAAW,CAAEC,OAAQ,CAAC,CAAAF,IAAA,CAC1C,KAAM,CAACG,SAAS,CAAEC,YAAY,CAAC,CAAGtB,QAAQ,CAAC,IAAI,CAAC,CAChD,KAAM,CAACuB,SAAS,CAAEC,YAAY,CAAC,CAAGxB,QAAQ,CAAC,IAAI,CAAC,CAChD,KAAM,CAACyB,eAAe,CAAEC,kBAAkB,CAAC,CAAG1B,QAAQ,CAAC,KAAK,CAAC,CAC7D,KAAM,CAAC2B,eAAe,CAAEC,kBAAkB,CAAC,CAAG5B,QAAQ,CAAC,KAAK,CAAC,CAE7D,KAAM,CAAA6B,aAAa,CAAG5B,MAAM,CAAC,IAAI,CAAC,CAClC,KAAM,CAAA6B,aAAa,CAAG7B,MAAM,CAAC,IAAI,CAAC,CAElC,KAAM,CAAA8B,gBAAgB,CAAGA,CAAA,GAAM,CAC7BF,aAAa,CAACG,OAAO,CAACC,KAAK,CAAC,CAAC,CAC/B,CAAC,CAED,KAAM,CAAAC,gBAAgB,CAAGA,CAAA,GAAM,CAC7BJ,aAAa,CAACE,OAAO,CAACC,KAAK,CAAC,CAAC,CAC/B,CAAC,CAED,KAAM,CAAAE,iBAAiB,CAAIC,CAAC,EAAK,CAC/B,GAAIA,CAAC,CAACC,MAAM,CAACC,KAAK,EAAIF,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,CAAE,CACvChB,YAAY,CAACc,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC,CACjC,CACF,CAAC,CAED,KAAM,CAAAC,iBAAiB,CAAIH,CAAC,EAAK,CAC/B,GAAIA,CAAC,CAACC,MAAM,CAACC,KAAK,EAAIF,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,CAAE,CACvCd,YAAY,CAACY,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC,CACjC,CACF,CAAC,CAED,KAAM,CAAAE,cAAc,CAAGA,CAACJ,CAAC,CAAEK,aAAa,GAAK,CAC3CL,CAAC,CAACM,cAAc,CAAC,CAAC,CAClBN,CAAC,CAACO,eAAe,CAAC,CAAC,CACnBF,aAAa,CAAC,IAAI,CAAC,CACrB,CAAC,CAED,KAAM,CAAAG,eAAe,CAAGA,CAACR,CAAC,CAAEK,aAAa,GAAK,CAC5CL,CAAC,CAACM,cAAc,CAAC,CAAC,CAClBN,CAAC,CAACO,eAAe,CAAC,CAAC,CACnBF,aAAa,CAAC,KAAK,CAAC,CACtB,CAAC,CAED,KAAM,CAAAI,eAAe,CAAIT,CAAC,EAAK,CAC7BA,CAAC,CAACM,cAAc,CAAC,CAAC,CAClBN,CAAC,CAACO,eAAe,CAAC,CAAC,CACnBjB,kBAAkB,CAAC,KAAK,CAAC,CAEzB,GAAIU,CAAC,CAACU,YAAY,CAACR,KAAK,EAAIF,CAAC,CAACU,YAAY,CAACR,KAAK,CAAC,CAAC,CAAC,CAAE,CACnDhB,YAAY,CAACc,CAAC,CAACU,YAAY,CAACR,KAAK,CAAC,CAAC,CAAC,CAAC,CACvC,CACF,CAAC,CAED,KAAM,CAAAS,eAAe,CAAIX,CAAC,EAAK,CAC7BA,CAAC,CAACM,cAAc,CAAC,CAAC,CAClBN,CAAC,CAACO,eAAe,CAAC,CAAC,CACnBf,kBAAkB,CAAC,KAAK,CAAC,CAEzB,GAAIQ,CAAC,CAACU,YAAY,CAACR,KAAK,EAAIF,CAAC,CAACU,YAAY,CAACR,KAAK,CAAC,CAAC,CAAC,CAAE,CACnDd,YAAY,CAACY,CAAC,CAACU,YAAY,CAACR,KAAK,CAAC,CAAC,CAAC,CAAC,CACvC,CACF,CAAC,CAED,KAAM,CAAAU,eAAe,CAAGA,CAAA,GAAM,CAC5B,GAAI3B,SAAS,EAAIE,SAAS,CAAE,CAC1BJ,WAAW,CAACE,SAAS,CAAEE,SAAS,CAAC,CACnC,CACF,CAAC,CAED,mBACEjB,KAAA,CAACC,aAAa,EAAA0C,QAAA,eACZ7C,IAAA,CAACK,YAAY,EAAAwC,QAAA,CAAC,cAAY,CAAc,CAAC,cAEzC7C,IAAA,CAACO,aAAa,EAAAsC,QAAA,CAAC,YAAU,CAAe,CAAC,cACzC3C,KAAA,CAACO,QAAQ,EACPqC,SAAS,CAAEzB,eAAe,CAAG,WAAW,CAAG,EAAG,CAC9C0B,OAAO,CAAEpB,gBAAiB,CAC1BqB,UAAU,CAAGhB,CAAC,EAAKI,cAAc,CAACJ,CAAC,CAAEV,kBAAkB,CAAE,CACzD2B,WAAW,CAAGjB,CAAC,EAAKQ,eAAe,CAACR,CAAC,CAAEV,kBAAkB,CAAE,CAC3D4B,MAAM,CAAET,eAAgB,CAAAI,QAAA,eAExB3C,KAAA,MAAA2C,QAAA,EAAG,mBACoB,cAAA7C,IAAA,WAAA6C,QAAA,CAAQ,YAAU,CAAQ,CAAC,cAAA7C,IAAA,QAAK,CAAC,qBAExD,EAAG,CAAC,cACJA,IAAA,UACEmD,IAAI,CAAC,MAAM,CACXC,GAAG,CAAE3B,aAAc,CACnB4B,QAAQ,CAAEtB,iBAAkB,CAC5BuB,MAAM,CAAC,OAAO,CACdC,KAAK,CAAE,CAAEC,OAAO,CAAE,MAAO,CAAE,CAC5B,CAAC,EACM,CAAC,cACXxD,IAAA,CAACU,UAAU,EAACoC,SAAS,CAAE7B,SAAS,CAAG,UAAU,CAAG,EAAG,CAAA4B,QAAA,CAChD5B,SAAS,CAAG,kBAAkBA,SAAS,CAACwC,IAAI,EAAE,CAAG,kBAAkB,CAC1D,CAAC,cAEbzD,IAAA,CAACO,aAAa,EAAAsC,QAAA,CAAC,mBAAiB,CAAe,CAAC,cAChD3C,KAAA,CAACO,QAAQ,EACPqC,SAAS,CAAEvB,eAAe,CAAG,WAAW,CAAG,EAAG,CAC9CwB,OAAO,CAAEjB,gBAAiB,CAC1BkB,UAAU,CAAGhB,CAAC,EAAKI,cAAc,CAACJ,CAAC,CAAER,kBAAkB,CAAE,CACzDyB,WAAW,CAAGjB,CAAC,EAAKQ,eAAe,CAACR,CAAC,CAAER,kBAAkB,CAAE,CAC3D0B,MAAM,CAAEP,eAAgB,CAAAE,QAAA,eAExB3C,KAAA,MAAA2C,QAAA,EAAG,mBACoB,cAAA7C,IAAA,WAAA6C,QAAA,CAAQ,mBAAiB,CAAQ,CAAC,cAAA7C,IAAA,QAAK,CAAC,qBAE/D,EAAG,CAAC,cACJA,IAAA,UACEmD,IAAI,CAAC,MAAM,CACXC,GAAG,CAAE1B,aAAc,CACnB2B,QAAQ,CAAElB,iBAAkB,CAC5BmB,MAAM,CAAC,OAAO,CACdC,KAAK,CAAE,CAAEC,OAAO,CAAE,MAAO,CAAE,CAC5B,CAAC,EACM,CAAC,cACXxD,IAAA,CAACU,UAAU,EAACoC,SAAS,CAAE3B,SAAS,CAAG,UAAU,CAAG,EAAG,CAAA0B,QAAA,CAChD1B,SAAS,CAAG,kBAAkBA,SAAS,CAACsC,IAAI,EAAE,CAAG,kBAAkB,CAC1D,CAAC,cAEbzD,IAAA,CAACW,eAAe,EACdoC,OAAO,CAAEH,eAAgB,CACzBc,QAAQ,CAAE,CAACzC,SAAS,EAAI,CAACE,SAAS,EAAIH,OAAQ,CAAA6B,QAAA,CAE7C7B,OAAO,CAAG,gBAAgB,CAAG,iBAAiB,CAChC,CAAC,EACL,CAAC,CAEpB,CAAC,CAED,cAAe,CAAAH,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}