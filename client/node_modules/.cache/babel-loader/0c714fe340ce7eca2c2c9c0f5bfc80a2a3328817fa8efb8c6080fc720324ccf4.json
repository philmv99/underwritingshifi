{"ast":null,"code":"import React,{useState}from'react';import styled from'styled-components';import FileUpload from'./components/FileUpload';import Results from'./components/Results';import ApiTest from'./components/ApiTest';import ApiService from'./services/ApiService';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AppContainer=styled.div`\n  font-family: 'Segoe UI', sans-serif;\n  max-width: 1000px;\n  margin: 0 auto;\n  padding: 20px;\n  color: #333;\n`;const Title=styled.h1`\n  color: #2c3e50;\n`;const Description=styled.p`\n  margin-bottom: 20px;\n`;const Container=styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  gap: 20px;\n`;const ErrorBanner=styled.div`\n  background-color: #f8d7da;\n  color: #721c24;\n  padding: 10px 15px;\n  margin-bottom: 20px;\n  border-radius: 4px;\n  border: 1px solid #f5c6cb;\n`;const App=()=>{const[loading,setLoading]=useState(false);const[results,setResults]=useState(null);const[error,setError]=useState(null);const handleCalculate=async(prefiFile,plaidFile)=>{setLoading(true);setError(null);try{const formData=new FormData();formData.append('prefi',prefiFile);formData.append('plaid',plaidFile);const response=await ApiService.calculateScoreFromFiles(formData);setResults(response.data);}catch(err){var _err$response,_err$response$data;console.error('Error calculating score:',err);setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||err.message||'An error occurred while calculating the score');}finally{setLoading(false);}};return/*#__PURE__*/_jsxs(AppContainer,{children:[/*#__PURE__*/_jsx(Title,{children:\"Underwriting Score & Debit Summary\"}),/*#__PURE__*/_jsxs(Description,{children:[\"Upload your \",/*#__PURE__*/_jsx(\"code\",{children:\"prefi.json\"}),\" and a Plaid Assets JSON to calculate underwriting scores and view debit transactions.\"]}),error&&/*#__PURE__*/_jsx(ErrorBanner,{children:error}),/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(FileUpload,{onCalculate:handleCalculate,loading:loading}),/*#__PURE__*/_jsx(Results,{results:results,loading:loading,error:error})]}),/*#__PURE__*/_jsx(ApiTest,{})]});};export default App;","map":{"version":3,"names":["React","useState","styled","FileUpload","Results","ApiTest","ApiService","jsx","_jsx","jsxs","_jsxs","AppContainer","div","Title","h1","Description","p","Container","ErrorBanner","App","loading","setLoading","results","setResults","error","setError","handleCalculate","prefiFile","plaidFile","formData","FormData","append","response","calculateScoreFromFiles","data","err","_err$response","_err$response$data","console","message","children","onCalculate"],"sources":["/home/ubuntu/underwriting-score-calculator/client/src/App.js"],"sourcesContent":["import React, { useState } from 'react';\nimport styled from 'styled-components';\nimport FileUpload from './components/FileUpload';\nimport Results from './components/Results';\nimport ApiTest from './components/ApiTest';\nimport ApiService from './services/ApiService';\n\nconst AppContainer = styled.div`\n  font-family: 'Segoe UI', sans-serif;\n  max-width: 1000px;\n  margin: 0 auto;\n  padding: 20px;\n  color: #333;\n`;\n\nconst Title = styled.h1`\n  color: #2c3e50;\n`;\n\nconst Description = styled.p`\n  margin-bottom: 20px;\n`;\n\nconst Container = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  gap: 20px;\n`;\n\nconst ErrorBanner = styled.div`\n  background-color: #f8d7da;\n  color: #721c24;\n  padding: 10px 15px;\n  margin-bottom: 20px;\n  border-radius: 4px;\n  border: 1px solid #f5c6cb;\n`;\n\nconst App = () => {\n  const [loading, setLoading] = useState(false);\n  const [results, setResults] = useState(null);\n  const [error, setError] = useState(null);\n\n  const handleCalculate = async (prefiFile, plaidFile) => {\n    setLoading(true);\n    setError(null);\n    \n    try {\n      const formData = new FormData();\n      formData.append('prefi', prefiFile);\n      formData.append('plaid', plaidFile);\n      \n      const response = await ApiService.calculateScoreFromFiles(formData);\n      setResults(response.data);\n    } catch (err) {\n      console.error('Error calculating score:', err);\n      setError(err.response?.data?.message || err.message || 'An error occurred while calculating the score');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <AppContainer>\n      <Title>Underwriting Score & Debit Summary</Title>\n      <Description>\n        Upload your <code>prefi.json</code> and a Plaid Assets JSON to calculate underwriting scores and view debit transactions.\n      </Description>\n      \n      {error && <ErrorBanner>{error}</ErrorBanner>}\n      \n      <Container>\n        <FileUpload onCalculate={handleCalculate} loading={loading} />\n        <Results results={results} loading={loading} error={error} />\n      </Container>\n      \n      <ApiTest />\n    </AppContainer>\n  );\n};\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}